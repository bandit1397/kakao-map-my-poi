<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GitHub Pages용 카카오맵 예제</title>

<!-- 카카오맵 JS SDK (autoload=true로 바로 사용 가능) -->
<script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=f30dd6f94c36231cde8591b5aa702957&libraries=services"></script>

<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  #map { width: 100%; height: 500px; border: 1px solid #ccc; border-radius: 8px; }
  #coords { margin-top: 10px; font-size: 16px; color: #333; }
</style>
</head>
<body>

<h2>GitHub Pages에서 카카오맵 내 위치 표시</h2>
<div id="map"></div>
<p id="coords">내 위치를 불러오는 중...</p>

<script>
  // 지도 기본 중심 좌표 (서울 시청)
  var defaultCenter = new kakao.maps.LatLng(37.5665, 126.9780);

  // 지도 생성
  var mapContainer = document.getElementById('map');
  var mapOption = { center: defaultCenter, level: 5 };
  var map = new kakao.maps.Map(mapContainer, mapOption);

  // HTML5 Geolocation 사용
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(
      function(position) {
        var lat = position.coords.latitude;
        var lng = position.coords.longitude;

        // 좌표 표시
        document.getElementById('coords').innerText = `위도: ${lat.toFixed(6)}, 경도: ${lng.toFixed(6)}`;

        // 내 위치 마커
        var locPosition = new kakao.maps.LatLng(lat, lng);
        var marker = new kakao.maps.Marker({ position: locPosition });
        marker.setMap(map);

        // 지도 중심 이동
        map.setCenter(locPosition);
      },
      function(error) {
        console.error('Geolocation error:', error);
        document.getElementById('coords').innerText = '위치 정보를 가져올 수 없습니다. 기본 위치로 지도 표시 중...';
        map.setCenter(defaultCenter);
      },
      { timeout: 10000 } // 10초 타임아웃
    );
  } else {
    document.getElementById('coords').innerText = '이 브라우저는 위치 정보를 지원하지 않습니다. 기본 위치로 지도 표시 중...';
    map.setCenter(defaultCenter);
  }
</script>

</body>
</html>
