<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>카카오맵 내 위치 좌표 확인</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ✅ 카카오맵 SDK 로드 (반드시 YOUR_KEY 변경) -->
<script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=a2b526f8744f752fb07593aad9404d67&libraries=services"></script>

<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  #map { width: 100%; height: 400px; border: 1px solid #ccc; }
  #coords { margin-top: 10px; font-size: 16px; color: #333; }
</style>
</head>
<body>
<h2>카카오맵에서 내 위치 좌표 확인</h2>
<div id="map"></div>
<p id="coords">내 위치를 불러오는 중...</p>

<script>
// ✅ 모든 로직은 SDK 로드 후 실행
window.onload = function() {
    // 지도 기본 설정 (서울 시청 좌표)
    var mapContainer = document.getElementById('map');
    var mapOption = {
        center: new kakao.maps.LatLng(37.5665, 126.9780),
        level: 3
    };
    var map = new kakao.maps.Map(mapContainer, mapOption);

    // HTML5 Geolocation API 사용
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(position) {
            var lat = position.coords.latitude;  // 위도
            var lon = position.coords.longitude; // 경도

            // 좌표 표시
            document.getElementById('coords').innerText =
                `위도: ${lat}, 경도: ${lon}`;

            // 현재 위치로 마커 표시
            var locPosition = new kakao.maps.LatLng(lat, lon);
            var marker = new kakao.maps.Marker({ position: locPosition });
            marker.setMap(map);

            // 지도 중심을 현재 위치로 이동
            map.setCenter(locPosition);
        }, function(error) {
            document.getElementById('coords').innerText = '위치 정보를 가져올 수 없습니다.';
            console.error('Geolocation error:', error);
        });
    } else {
        document.getElementById('coords').innerText =
            '이 브라우저에서는 위치 정보를 지원하지 않습니다.';
    }
};
</script>
</body>
</html>
