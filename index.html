<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>카카오맵 내 위치 좌표</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ✅ 카카오맵 SDK 반드시 먼저 로드 -->
<script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=a2b526f8744f752fb07593aad9404d67&libraries=services"></script>

<style>
  #map { width: 100%; height: 400px; }
</style>
</head>
<body>
<h2>내 위치 좌표 확인</h2>
<div id="map"></div>
<p id="coords"></p>

<script>
// ✅ kakao 객체는 SDK 로드 후에만 접근 가능
window.onload = function() {
    var mapContainer = document.getElementById('map');
    var mapOption = {
        center: new kakao.maps.LatLng(37.5665, 126.9780),
        level: 3
    };
    var map = new kakao.maps.Map(mapContainer, mapOption);

    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(position) {
            var lat = position.coords.latitude;
            var lon = position.coords.longitude;
            document.getElementById('coords').innerText = `위도: ${lat}, 경도: ${lon}`;
            var locPosition = new kakao.maps.LatLng(lat, lon);
            var marker = new kakao.maps.Marker({ position: locPosition });
            marker.setMap(map);
            map.setCenter(locPosition);
        }, function() {
            alert('위치 정보를 가져올 수 없습니다.');
        });
    }
};
</script>
</body>
</html>
