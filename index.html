<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>카카오맵 SDK 테스트 — GitHub Pages 서브폴더</title>
<!-- ⚠️ 본인 JavaScript 키로 교체하세요. 공백/줄바꿈 금지 -->
<script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=91d4176cb6da4e212c947c5d549ac640&autoload=false"></script>
<style>
body{margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;}
#map{width:100%;height:100vh;}
#status{position:absolute;top:10px;left:10px;background:#fff;padding:6px 12px;border:1px solid #ccc;border-radius:8px;z-index:1000;}
</style>
</head>
<body>
<div id="status">SDK 상태: 로딩중...</div>
<div id="map"></div>

<script>
function showStatus(msg,color){
    const el=document.getElementById('status');
    el.textContent = 'SDK 상태: ' + msg;
    el.style.color = color||'black';
}

// SDK 로드 후 지도 초기화
function initMap(){
    showStatus('로딩 성공 ✅', 'green');
    const container = document.getElementById('map');
    const center = new kakao.maps.LatLng(37.5665, 126.9780);
    const map = new kakao.maps.Map(container,{center,level:3});

    // 테스트용 마커 추가
    const marker = new kakao.maps.Marker({position:center});
    marker.setMap(map);
}

// SDK 로드 확인
if(window.kakao && kakao.maps){
    kakao.maps.load(initMap);
}else{
    let tries=0;
    const t=setInterval(()=>{
        tries++;
        if(window.kakao && kakao.maps){
            clearInterval(t);
            kakao.maps.load(initMap);
        } else if(tries>20){
            clearInterval(t);
            showStatus('로드 실패 ❌ appkey 확인 필요', 'red');
            alert('카카오맵 SDK 로드 실패: appkey를 확인하세요.');
        }
    },200);
}
</script>
</body>
</html>
